## 1. 프로세스와 스레드

`프로세스(process)` : 메모리에 올라와 실행되고 있는 프로그램.
`스레드(thread)` : 프로세스에 소속되어 여러 코드를 **동시에** 실행할 수 있도록 해준다. 스레드는 코드를 실행. 코드는 특정 스레드에서 실행된다.

## 2. 스레드와 코루틴

`코루틴(coroutine)` :
- 스레드보다 작은 개념.
- 코루틴은 코드 종류 중 하나이기에 코루틴 코드가 실행되려면 스레드가 필요하다.
- 코루틴은 중단, 재개가 가능하므로 코루틴 코드의 앞부분은 1번 스레드에 배정되고, 뒷부분은 2번 스레드에 배정될 수 있다.
- 스레드는 특정 프로세스에 종속되어있지만, 코루틴은 어떤 스레드건 코루틴의 코드를 가져가서 실행할 수 있다.

## 3. Context switching

`프로세스` :
- 각각 독립된 메모리 영역을 갖고 있기 때문에 프로세스 1, 2 실행이 변경되면 **힙 영역**과 **스택 영역**이 모두 교체되어야 한다.
- context switching 비용이 가장 크다.

`스레드` :
- **독립된 스택 영역**을 갖고 있지만, **힙 영역을 공유**하기 때문에 실행 변경되면 **스택 영역만 교체**된다.
- 프로세스보다는 context switching 비용이 적다.

`코루틴` :
- 1번 코루틴과 2번 코루틴이 같은 스레드에서 실행될 수 있다. 때문에 **동일한 스레드에서 코루틴이 실행되면, 메모리 전부를 공유**하므로 스레드보다도 context switching 비용이 적다.

> 한정된 CPU 자원을 context switch를 통해 여러 프로세스에게 나누어주어 각 프로세스마다 고유의 CPU를 갖는것 같은 가상화를 제공한다.
   멀티스레드 환경에서도 context switch를 통해 여러 스레드가 여러 코드를 동시에 수행하는 것 같은 동시성을 보장할 수 있다.
### 동시성 확보
스레드는 동시성 확보를 위해 여러개의 스레드가 필요하다. 반면, 코루틴은 1번 코루틴과 2번 코루틴이 하나의 스레드에서 번갈아 실행될 수 있기 때문에 단 하나의 스레드만으로 동시성을 확보할 수 있다.

`동시성` : 한 번에 한 가지 일만 할 수 있는데 작업이 아주 빠르게 전환되어 **동시에 하는것 처럼 보이는 것**.
`병렬성` : CPU 코어가 여러 개 있어 **실제로** 2가지 일을 **동시에 하는 것**.

### 비선점형과 선점형
- 코루틴은 스스로가 다른 코루틴에게 자리를 양보할 수 있다. (yield() 함수 등을 통해서) - `비선점형`
- 스레드는 OS에 의해 다른 스레드에게 자리를 양보한다 - `선점형`