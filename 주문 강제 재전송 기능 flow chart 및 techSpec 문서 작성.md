- https://kurly0521.atlassian.net/wiki/spaces/DPD/pages/3810150518/with
- https://marketkurly.slack.com/archives/C04QG5FJDMM/p1700743974987719


도로명 주소 이후 상세 주소 표기가 잘리는 오류 발생.
ex) 경기도 광주시 태성1로 14 (와르르맨션) 105동 303호 (정상)
	경기도 광주시 태성1로 14 (와르르맨션) -> 상세 주소 누락

OMS에서 hotfix 배포 하기전 들어온 주문.

이처럼 잘못 주소 정제된 주문 건에 대해 다시금 주소 정제 후 재전송하기 위함.
넥스트마일 운영팀에서 주문 강제 재전송 기능을 활용하여 유연하게 대응할 수 있다.

목표: 잘못된 주소 정제건에 대해 다시 주소 정제를 태우기 위함.

이미 TOMS에는 주문 재전송 기능을 통해서 주소 정제를 다시 태울 수 있지만, **주소 재전송 조건이 존재**한다.

> 주소 재전송 조건 (모두 만족해야 재전송 가능)
>  배송요청일이 내일인 주문
>  주소정제가 완료된 주문
>  DOS/WMS/TMS 중 1개 이상 전송실패한 주문 - 그때 안됐던 이유는 이 조건 때문
>  배송상태가 미작업인 주문

조건없이 강제로 주문을 재전송하여 주소 정제를 태울 수 있는 강제 주문 재전송 기능을 관리자에 한하여 제공한다. (기존의 주문 재전송 기능도 관리자에 한하여 제공했었다?)
### 주소 정제 후 강제 재전송

이미 주문 전송 완료되었지만 선택된 주문에 대해 다시금 OMS의 주소 정제 API를 거쳐 재전송해야한다.
이때 강제 주문 재전송 I/F에는 아래 값을 변경하여 전송해야한다.
- `orderStatus`: NORMAL -> MODIFY (전송 유형) 
	- DOS를 위해 MODIFY로 전달해 줘야함.
- `receiver.address`: 새로이 주소 정제를 진행한 값을 전달.
### 고객이 입력한 주소 전달

주문 전송 I/F 에는 정제된 주소만을 전달하였지만 추후 배송 매니저가 육안으로 비교하여 돌발상황에 대응할 수 있도록 고객이 주문 시에 입력한 주소를 같이 전달한다.
- 속성 명 정의 필요

## 이외 고려사항들

### 주소 정제 시 TOMS Database 내 기존 주소 값 변경 여부

강제 재전송 시 진행된 정제된 주소에 대하여 Database 에 반영할 지 여부 확인
### DOS 운송장 상세 페이지

전달된 주소에 대하여 수정 또는 주소 정제를 진행하여 위와 같은 경우를 한번 더 방지할 수 있는지 여부 확인

- 직접 주소를 입력 또는 수정할 수 있게할 것인가?
- 전달된 고객이 입력한 주소를 기반으로 주소 정제를 진행하여 할 것인가?
